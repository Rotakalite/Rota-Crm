/*! For license information please see main.8bb5289f.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function i(e){var t="https://15b610ac-d561-4a21-a2fa-130a5c18e96e.preview.emergentagent.com","/api");const Ri=()=>{const{user:e,isLoaded:t}=la(),{session:n}=ia(),[r,a]=(0,l.useState)(null),[i,o]=(0,l.useState)(null),[s,u]=(0,l.useState)(null);return(0,l.useEffect)((()=>{(async()=>{if(t&&e&&n)try{var r;const t=(null===(r=e.publicMetadata)||void 0===r?void 0:r.role)||"client";o(t),console.log("\ud83d\udd0d Clerk Role:",t),console.log("\u2705 Set role to:",t);try{var l;const r=await n.getToken();a(r),console.log("\ud83c\udfaf Token received successfully");const i=await At.post("".concat(Ai,"/auth/register"),{clerk_user_id:e.id,email:(null===(l=e.primaryEmailAddress)||void 0===l?void 0:l.emailAddress)||"",name:e.fullName||e.firstName||"User",role:t},{headers:{Authorization:"Bearer ".concat(r)}});u(i.data),console.log("\u2705 User registered in database")}catch(c){console.error("Token error:",c),console.log("\ud83c\udfaf Setting role without token"),o(t)}}catch(d){var i;console.error("Auth initialization error:",d);const t=(null===(i=e.publicMetadata)||void 0===i?void 0:i.role)||"client";o(t)}else if(t&&e){var s;const t=(null===(s=e.publicMetadata)||void 0===s?void 0:s.role)||"client";o(t),console.log("\ud83c\udfaf No session, setting role without token:",t)}})()}),[e,t,n]),{user:e,authToken:r,userRole:i,dbUser:s,isLoaded:t,refreshUser:async()=>{if(r)try{const e=await At.get("".concat(Ai,"/auth/me"),{headers:{Authorization:"Bearer ".concat(r)}});u(e.data),console.log("\u2705 User data refreshed:",e.data)}catch(e){console.error("Error refreshing user:",e)}}}},Li=()=>{var e;const{user:t}=la(),{signOut:n}=ia(),{userRole:r}=Ri();return(0,zi.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,zi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udf3f S\xfcrd\xfcr\xfclebilir Turizm CRM"}),(0,zi.jsx)("p",{className:"text-sm text-gray-600",children:"admin"===r?"Admin Paneli":"M\xfc\u015fteri Paneli"})]}),(0,zi.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,zi.jsxs)("div",{className:"text-right",children:[(0,zi.jsx)("p",{className:"font-semibold text-gray-800",children:(null===t||void 0===t?void 0:t.fullName)||(null===t||void 0===t?void 0:t.firstName)}),(0,zi.jsx)("p",{className:"text-sm text-gray-600",children:null===t||void 0===t||null===(e=t.primaryEmailAddress)||void 0===e?void 0:e.emailAddress}),(0,zi.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full ".concat("admin"===r?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"admin"===r?"Admin":"M\xfc\u015fteri"})]}),(0,zi.jsx)("button",{onClick:()=>{localStorage.removeItem("client_setup_".concat(r,"_completed")),n()},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"\xc7\u0131k\u0131\u015f Yap"})]})]})})},Ui=e=>{let{onNavigate:t}=e;const[n,r]=(0,l.useState)(null),[a,i]=(0,l.useState)([]),[o,s]=(0,l.useState)([]),[u,c]=(0,l.useState)(null),[d,f]=(0,l.useState)(!1),{authToken:p,userRole:h,dbUser:m}=Ri();(0,l.useEffect)((()=>{p&&(b(),y(),"client"===h&&null!==m&&void 0!==m&&m.client_id&&g())}),[p,h,m]);const g=async()=>{try{const e=await At.get("".concat(Ai,"/documents"),{headers:{Authorization:"Bearer ".concat(p)}});s(e.data)}catch(e){console.error("Error fetching documents:",e)}},b=async()=>{try{const e=await At.get("".concat(Ai,"/stats"),{headers:{Authorization:"Bearer ".concat(p)}});r(e.data)}catch(e){console.error("Error fetching stats:",e)}},y=async()=>{try{const e=await At.get("".concat(Ai,"/clients"),{headers:{Authorization:"Bearer ".concat(p)}});i(e.data)}catch(e){console.error("Error fetching clients:",e)}};return(0,zi.jsxs)("div",{className:"space-y-6",children:[(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,zi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"admin"===h?"Admin Dashboard":"M\xfc\u015fteri Dashboard"}),n&&(0,zi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,zi.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,zi.jsx)("h3",{className:"text-lg font-semibold text-blue-700",children:"admin"===h?"Toplam M\xfc\u015fteri":"Hesap Durumu"}),(0,zi.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:n.total_clients})]}),(0,zi.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,zi.jsx)("h3",{className:"text-lg font-semibold text-green-700",children:"I. A\u015fama"}),(0,zi.jsx)("p",{className:"text-3xl font-bold text-green-900",children:n.stage_distribution.stage_1})]}),(0,zi.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500",children:[(0,zi.jsx)("h3",{className:"text-lg font-semibold text-yellow-700",children:"II. A\u015fama"}),(0,zi.jsx)("p",{className:"text-3xl font-bold text-yellow-900",children:n.stage_distribution.stage_2})]}),(0,zi.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,zi.jsx)("h3",{className:"text-lg font-semibold text-purple-700",children:"III. A\u015fama"}),(0,zi.jsx)("p",{className:"text-3xl font-bold text-purple-900",children:n.stage_distribution.stage_3})]})]})]}),(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,zi.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,zi.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"admin"===h?"Son M\xfc\u015fteriler":"Hesap Bilgileri"}),"admin"===h&&(0,zi.jsx)("button",{onClick:()=>t("clients"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"T\xfcm M\xfc\u015fterileri G\xf6r"})]}),(0,zi.jsx)("div",{className:"overflow-x-auto",children:(0,zi.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,zi.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,zi.jsxs)("tr",{children:[(0,zi.jsx)("th",{className:"px-6 py-3",children:"Otel Ad\u0131"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"\u0130leti\u015fim Ki\u015fisi"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"A\u015fama"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"Tarih"}),"admin"===h&&(0,zi.jsx)("th",{className:"px-6 py-3",children:"\u0130\u015flemler"})]})}),(0,zi.jsx)("tbody",{children:a.slice(0,5).map((e=>(0,zi.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,zi.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.hotel_name}),(0,zi.jsx)("td",{className:"px-6 py-4",children:e.contact_person}),(0,zi.jsx)("td",{className:"px-6 py-4",children:(0,zi.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("I.A\u015fama"===e.current_stage?"bg-green-100 text-green-800":"II.A\u015fama"===e.current_stage?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"),children:e.current_stage})}),(0,zi.jsx)("td",{className:"px-6 py-4",children:new Date(e.created_at).toLocaleDateString("tr-TR")}),"admin"===h&&(0,zi.jsx)("td",{className:"px-6 py-4",children:(0,zi.jsx)("button",{onClick:()=>t("project",e),className:"text-blue-600 hover:text-blue-900",children:"Detay"})})]},e.id)))})]})})]}),"client"===h&&a.length>0&&(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,zi.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:"\ud83c\udf31 Karbon Ayak \u0130zi Raporlar\u0131m"}),a.map((e=>(0,zi.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg border border-green-200 mb-4",children:[(0,zi.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zi.jsxs)("div",{className:"flex-1",children:[(0,zi.jsxs)("h4",{className:"font-semibold text-green-800 mb-2",children:["\ud83c\udfe8 ",e.hotel_name]}),e.carbon_footprint?(0,zi.jsxs)("div",{className:"space-y-2",children:[(0,zi.jsxs)("div",{className:"flex items-center",children:[(0,zi.jsx)("span",{className:"text-2xl mr-3",children:"\ud83d\udcca"}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("p",{className:"font-bold text-2xl text-green-700",children:[e.carbon_footprint.toFixed(2)," kg CO2/y\u0131l"]}),(0,zi.jsx)("p",{className:"text-sm text-green-600",children:"Y\u0131ll\u0131k Karbon Ayak \u0130zi"})]})]}),(0,zi.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,zi.jsx)("span",{className:"mr-2",children:"\u2705"}),(0,zi.jsx)("span",{children:"Karbon ayak izi analizi tamamland\u0131"})]}),(0,zi.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,zi.jsx)("span",{className:"mr-2",children:"\ud83d\udcc4"}),(0,zi.jsx)("span",{children:"Detayl\u0131 rapor haz\u0131r"})]})]}):(0,zi.jsxs)("div",{className:"flex items-center",children:[(0,zi.jsx)("span",{className:"text-2xl mr-3",children:"\u23f3"}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{className:"font-semibold text-gray-700",children:"Karbon Ayak \u0130zi Analizi"}),(0,zi.jsx)("p",{className:"text-sm text-gray-500",children:"Analiziniz devam ediyor, tamamland\u0131\u011f\u0131nda size bildirilecektir"})]})]})]}),e.carbon_footprint&&(0,zi.jsxs)("button",{onClick:()=>{const t=o.find((t=>t.client_id===e.id&&"Karbon Ayak \u0130zi Raporu"===t.document_type));t?(e=>{c(e),f(!0)})(t):alert("Karbon ayak izi raporu hen\xfcz y\xfcklenmemi\u015f.")},className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all transform hover:scale-105 shadow-md flex items-center",children:[(0,zi.jsx)("span",{className:"mr-2",children:"\ud83d\udccb"}),"Raporu G\xf6r\xfcnt\xfcle"]})]}),e.carbon_footprint&&(0,zi.jsx)("div",{className:"mt-4 pt-4 border-t border-green-200",children:(0,zi.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,zi.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,zi.jsx)("div",{className:"text-lg font-bold text-green-600",children:(e.carbon_footprint/365).toFixed(1)}),(0,zi.jsx)("div",{className:"text-xs text-gray-500",children:"kg CO2/g\xfcn"})]}),(0,zi.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,zi.jsx)("div",{className:"text-lg font-bold text-blue-600",children:(e.carbon_footprint/12).toFixed(1)}),(0,zi.jsx)("div",{className:"text-xs text-gray-500",children:"kg CO2/ay"})]}),(0,zi.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,zi.jsx)("div",{className:"text-lg font-bold text-purple-600",children:e.current_stage}),(0,zi.jsx)("div",{className:"text-xs text-gray-500",children:"Mevcut A\u015fama"})]}),(0,zi.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,zi.jsx)("div",{className:"text-lg font-bold text-orange-600",children:o.filter((t=>t.client_id===e.id)).length}),(0,zi.jsx)("div",{className:"text-xs text-gray-500",children:"Toplam Belge"})]})]})})]},e.id)))]}),d&&u&&(0,zi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zi.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-90vh overflow-y-auto",children:[(0,zi.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white p-6 rounded-t-xl",children:(0,zi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zi.jsxs)("div",{className:"flex items-center",children:[(0,zi.jsx)("span",{className:"text-3xl mr-3",children:(e=>{switch(e.split(".").pop().toLowerCase()){case"pdf":return"\ud83d\udcc4";case"doc":case"docx":return"\ud83d\udcdd";case"xls":case"xlsx":return"\ud83d\udcca";case"jpg":case"jpeg":case"png":return"\ud83d\uddbc\ufe0f";case"zip":case"rar":return"\ud83d\udce6";default:return"\ud83d\udccb"}})(u.file_path)}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h3",{className:"text-xl font-bold",children:"Karbon Ayak \u0130zi Raporu"}),(0,zi.jsx)("p",{className:"text-green-100 text-sm",children:u.name})]})]}),(0,zi.jsx)("button",{onClick:()=>f(!1),className:"text-white hover:text-red-300 text-2xl font-bold w-8 h-8 flex items-center justify-center rounded-full hover:bg-white hover:bg-opacity-20 transition-all",children:"\xd7"})]})}),(0,zi.jsxs)("div",{className:"p-6 space-y-6",children:[(0,zi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zi.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-green-700 uppercase tracking-wide mb-1",children:"Belge T\xfcr\xfc"}),(0,zi.jsx)("p",{className:"text-sm font-medium text-green-900",children:u.document_type})]}),(0,zi.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1",children:"Proje A\u015famas\u0131"}),(0,zi.jsx)("span",{className:"inline-block px-3 py-1 text-sm font-semibold rounded-full ".concat("I.A\u015fama"===u.stage?"bg-green-100 text-green-800":"II.A\u015fama"===u.stage?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"),children:u.stage})]})]}),(0,zi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zi.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-orange-700 uppercase tracking-wide mb-1",children:"Dosya Boyutu"}),(0,zi.jsx)("p",{className:"text-lg font-bold text-orange-900",children:(e=>{if(!e)return"Unknown";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]})(u.file_size)})]}),(0,zi.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-purple-700 uppercase tracking-wide mb-1",children:"Y\xfcklenme Tarihi"}),(0,zi.jsx)("p",{className:"text-sm font-medium text-purple-900",children:new Date(u.created_at).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,zi.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-green-400 p-4 rounded-lg",children:(0,zi.jsxs)("div",{className:"flex items-start",children:[(0,zi.jsx)("div",{className:"flex-shrink-0",children:(0,zi.jsx)("span",{className:"text-2xl",children:"\ud83c\udf31"})}),(0,zi.jsxs)("div",{className:"ml-3",children:[(0,zi.jsx)("h4",{className:"text-sm font-semibold text-green-800 mb-1",children:"Karbon Ayak \u0130zi Raporu"}),(0,zi.jsx)("p",{className:"text-sm text-green-700",children:"Bu rapor, otelimizin y\u0131ll\u0131k karbon emisyonlar\u0131n\u0131n detayl\u0131 analizini i\xe7ermektedir. S\xfcrd\xfcr\xfclebilirlik hedeflerinize ula\u015fman\u0131zda rehber olacakt\u0131r."})]})]})})]}),(0,zi.jsxs)("div",{className:"bg-gray-50 px-6 py-4 rounded-b-xl flex justify-between items-center",children:[(0,zi.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,zi.jsx)("span",{className:"mr-2",children:"\ud83d\udcc5"}),"Rapor tarihi: ",new Date(u.created_at).toLocaleDateString("tr-TR")]}),(0,zi.jsx)("button",{onClick:()=>f(!1),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-all transform hover:scale-105 shadow-md",children:"\u2713 Tamam"})]})]})})]})},Ii=e=>{let{onNavigate:t}=e;const[n,r]=(0,l.useState)([]),[a,i]=(0,l.useState)(!1),[o,s]=(0,l.useState)(null),[u,c]=(0,l.useState)({name:"",hotel_name:"",contact_person:"",email:"",phone:"",address:""}),{authToken:f,userRole:p}=Ri();(0,l.useEffect)((()=>{f&&h()}),[f]);const h=async()=>{try{const e=await At.get("".concat(Ai,"/clients"),{headers:{Authorization:"Bearer ".concat(f)}});r(e.data)}catch(e){console.error("Error fetching clients:",e)}};return"admin"!==p?(0,zi.jsx)("div",{className:"text-center py-8",children:(0,zi.jsx)("p",{className:"text-red-600",children:"Bu sayfaya eri\u015fim yetkiniz yok."})}):(0,zi.jsx)("div",{className:"space-y-6",children:(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,zi.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,zi.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"M\xfc\u015fteri Y\xf6netimi"}),(0,zi.jsx)("button",{onClick:()=>i(!0),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Yeni M\xfc\u015fteri Ekle"})]}),a&&(0,zi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[(0,zi.jsx)("h3",{className:"text-lg font-semibold mb-4",children:o?"M\xfc\u015fteri D\xfczenle":"Yeni M\xfc\u015fteri Ekle"}),(0,zi.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{o?await At.put("".concat(Ai,"/clients/").concat(o.id),u,{headers:{Authorization:"Bearer ".concat(f)}}):await At.post("".concat(Ai,"/clients"),u,{headers:{Authorization:"Bearer ".concat(f)}}),h(),i(!1),s(null),c({name:"",hotel_name:"",contact_person:"",email:"",phone:"",address:""})}catch(r){var t,n;console.error("Error saving client:",r),alert("Hata: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Bilinmeyen hata"))}},className:"space-y-4",children:[(0,zi.jsx)("input",{type:"text",placeholder:"Firma Ad\u0131",value:u.name,onChange:e=>c(d(d({},u),{},{name:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("input",{type:"text",placeholder:"Otel Ad\u0131",value:u.hotel_name,onChange:e=>c(d(d({},u),{},{hotel_name:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("input",{type:"text",placeholder:"\u0130leti\u015fim Ki\u015fisi",value:u.contact_person,onChange:e=>c(d(d({},u),{},{contact_person:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("input",{type:"email",placeholder:"E-posta",value:u.email,onChange:e=>c(d(d({},u),{},{email:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("input",{type:"tel",placeholder:"Telefon",value:u.phone,onChange:e=>c(d(d({},u),{},{phone:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("textarea",{placeholder:"Adres",value:u.address,onChange:e=>c(d(d({},u),{},{address:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",rows:"3",required:!0}),(0,zi.jsxs)("div",{className:"flex space-x-3",children:[(0,zi.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors",children:o?"G\xfcncelle":"Kaydet"}),(0,zi.jsx)("button",{type:"button",onClick:()=>{i(!1),s(null),c({name:"",hotel_name:"",contact_person:"",email:"",phone:"",address:""})},className:"flex-1 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors",children:"\u0130ptal"})]})]})]})}),(0,zi.jsx)("div",{className:"overflow-x-auto",children:(0,zi.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,zi.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,zi.jsxs)("tr",{children:[(0,zi.jsx)("th",{className:"px-6 py-3",children:"Otel Ad\u0131"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"\u0130leti\u015fim Ki\u015fisi"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"E-posta"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"A\u015fama"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"Tarih"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"\u0130\u015flemler"})]})}),(0,zi.jsx)("tbody",{children:n.map((e=>(0,zi.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,zi.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.hotel_name}),(0,zi.jsx)("td",{className:"px-6 py-4",children:e.contact_person}),(0,zi.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,zi.jsx)("td",{className:"px-6 py-4",children:(0,zi.jsxs)("select",{value:e.current_stage,onChange:t=>(async(e,t)=>{try{await At.put("".concat(Ai,"/clients/").concat(e),{current_stage:t},{headers:{Authorization:"Bearer ".concat(f)}}),h()}catch(n){console.error("Error updating stage:",n)}})(e.id,t.target.value),className:"px-2 py-1 text-xs border rounded",children:[(0,zi.jsx)("option",{value:"I.A\u015fama",children:"I.A\u015fama"}),(0,zi.jsx)("option",{value:"II.A\u015fama",children:"II.A\u015fama"}),(0,zi.jsx)("option",{value:"III.A\u015fama",children:"III.A\u015fama"})]})}),(0,zi.jsx)("td",{className:"px-6 py-4",children:new Date(e.created_at).toLocaleDateString("tr-TR")}),(0,zi.jsx)("td",{className:"px-6 py-4",children:(0,zi.jsxs)("div",{className:"flex space-x-2",children:[(0,zi.jsx)("button",{onClick:()=>(e=>{s(e),c({name:e.name,hotel_name:e.hotel_name,contact_person:e.contact_person,email:e.email,phone:e.phone,address:e.address}),i(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:"D\xfczenle"}),(0,zi.jsx)("button",{onClick:()=>t("project",e),className:"text-green-600 hover:text-green-900",children:"Proje"}),(0,zi.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Bu m\xfc\u015fteriyi silmek istedi\u011finizden emin misiniz?"))try{await At.delete("".concat(Ai,"/clients/").concat(e),{headers:{Authorization:"Bearer ".concat(f)}}),h()}catch(t){console.error("Error deleting client:",t),alert("Silme i\u015fleminde hata olu\u015ftu!")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Sil"})]})})]},e.id)))})]})})]})})},Mi=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)([]),[a,i]=(0,l.useState)(""),[o,s]=(0,l.useState)(!1),[u,c]=(0,l.useState)(!1),[f,p]=(0,l.useState)(null),[h,m]=(0,l.useState)({client_id:"",name:"",document_type:"T\xfcrkiye S\xfcrd\xfcr\xfclebilir Turizm Program\u0131 Kriterleri (TR-I)",stage:"I.A\u015fama",files:[]}),{authToken:g,userRole:b,dbUser:y}=Ri();(0,l.useEffect)((()=>{g&&(v(),"admin"===b&&k())}),[g,b]);const v=async()=>{try{const e=await At.get("".concat(Ai,"/documents"),{headers:{Authorization:"Bearer ".concat(g)}});t(e.data)}catch(e){console.error("Error fetching documents:",e)}},k=async()=>{try{const e=await At.get("".concat(Ai,"/clients"),{headers:{Authorization:"Bearer ".concat(g)}});r(e.data)}catch(e){console.error("Error fetching clients:",e)}},x=async e=>{if(window.confirm("Bu belgeyi silmek istedi\u011finizden emin misiniz?"))try{await At.delete("".concat(Ai,"/documents/").concat(e),{headers:{Authorization:"Bearer ".concat(g)}}),v(),alert("Belge ba\u015far\u0131yla silindi!")}catch(t){console.error("Error deleting document:",t),alert("Belge silinirken hata olu\u015ftu!")}},w=e=>{var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"pdf":return"\ud83d\udcc4";case"doc":case"docx":return"\ud83d\udcdd";case"xls":case"xlsx":return"\ud83d\udcca";case"zip":case"rar":return"\ud83d\udce6";case"jpg":case"jpeg":case"png":return"\ud83d\uddbc\ufe0f";default:return"\ud83d\udcce"}},S=()=>"admin"===b&&a?e.filter((e=>e.client_id===a)):e,j=e=>{const t=n.find((t=>t.id===e));return t?t.hotel_name:"Bilinmeyen M\xfc\u015fteri"};return(0,zi.jsxs)("div",{className:"space-y-6",children:[(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,zi.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,zi.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"admin"===b?"Belge Y\xf6netimi":"Belgelerim"}),(0,zi.jsx)("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"admin"===b?"Yeni Belge Y\xfckle":"Belge Y\xfckle"})]}),"admin"===b&&(0,zi.jsxs)("div",{className:"mb-4",children:[(0,zi.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M\xfc\u015fteriye G\xf6re Filtrele:"}),(0,zi.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"w-full md:w-64 p-2 border border-gray-300 rounded-md",children:[(0,zi.jsx)("option",{value:"",children:"T\xfcm M\xfc\u015fteriler"}),n.map((e=>(0,zi.jsx)("option",{value:e.id,children:e.hotel_name},e.id)))]})]}),(0,zi.jsx)("div",{className:"overflow-x-auto",children:(0,zi.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,zi.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,zi.jsxs)("tr",{children:[(0,zi.jsx)("th",{className:"px-6 py-3",children:"Belge Ad\u0131"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"T\xfcr"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"A\u015fama"}),"admin"===b&&(0,zi.jsx)("th",{className:"px-6 py-3",children:"M\xfc\u015fteri"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"Y\xfcklenme Tarihi"}),(0,zi.jsx)("th",{className:"px-6 py-3",children:"\u0130\u015flemler"})]})}),(0,zi.jsxs)("tbody",{children:[S().map((e=>(0,zi.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,zi.jsx)("td",{className:"px-6 py-4",children:(0,zi.jsxs)("div",{className:"flex items-center",children:[(0,zi.jsx)("span",{className:"text-lg mr-2",children:w(e.file_path)}),(0,zi.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,zi.jsx)("td",{className:"px-6 py-4",children:(0,zi.jsx)("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:e.document_type})}),(0,zi.jsx)("td",{className:"px-6 py-4",children:(0,zi.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("I.A\u015fama"===e.stage?"bg-green-100 text-green-800":"II.A\u015fama"===e.stage?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"),children:e.stage})}),"admin"===b&&(0,zi.jsx)("td",{className:"px-6 py-4",children:j(e.client_id)}),(0,zi.jsx)("td",{className:"px-6 py-4",children:new Date(e.created_at).toLocaleDateString("tr-TR")}),(0,zi.jsx)("td",{className:"px-6 py-4",children:(0,zi.jsxs)("div",{className:"flex space-x-2",children:[(0,zi.jsx)("button",{onClick:()=>(e=>{p(e),c(!0)})(e),className:"text-blue-600 hover:text-blue-900 font-medium",children:"\ud83d\udccb Detay"}),"admin"===b&&(0,zi.jsx)("button",{onClick:()=>x(e.id),className:"text-red-600 hover:text-red-900",children:"\ud83d\uddd1\ufe0f Sil"})]})})]},e.id))),0===S().length&&(0,zi.jsx)("tr",{children:(0,zi.jsx)("td",{colSpan:"admin"===b?6:5,className:"px-6 py-8 text-center text-gray-500",children:"Hen\xfcz belge y\xfcklenmemi\u015f."})})]})]})})]}),o&&(0,zi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-md max-h-90vh overflow-y-auto",children:[(0,zi.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Yeni Belge Y\xfckle"}),(0,zi.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h.files&&0!==h.files.length)try{const e="admin"===b?h.client_id:y.client_id;for(let t=0;t<h.files.length;t++){const n=h.files[t],r=n.name,a=(r.split(".").pop(),{client_id:e,name:1===h.files.length?h.name:"".concat(h.name," - ").concat(r),document_type:h.document_type,stage:h.stage,file_path:"/documents/".concat(e,"/").concat(h.stage,"/").concat(Date.now(),"_").concat(r),file_size:n.size});await At.post("".concat(Ai,"/documents"),a,{headers:{Authorization:"Bearer ".concat(g)}})}v(),s(!1),m({client_id:"",name:"",document_type:"T\xfcrkiye S\xfcrd\xfcr\xfclebilir Turizm Program\u0131 Kriterleri (TR-I)",stage:"I.A\u015fama",files:[]}),alert("".concat(h.files.length," dosya ba\u015far\u0131yla y\xfcklendi!"))}catch(r){var t,n;console.error("Error uploading documents:",r),alert("Dosya y\xfcklenirken hata olu\u015ftu: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Bilinmeyen hata"))}else alert("L\xfctfen en az bir dosya se\xe7in!")},className:"space-y-4",children:["admin"===b&&(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["M\xfc\u015fteri ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsxs)("select",{value:h.client_id,onChange:e=>m(d(d({},h),{},{client_id:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0,children:[(0,zi.jsx)("option",{value:"",children:"M\xfc\u015fteri Se\xe7in"}),n.map((e=>(0,zi.jsx)("option",{value:e.id,children:e.hotel_name},e.id)))]})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Belge Ad\u0131 ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("input",{type:"text",placeholder:"\xd6rn: S\xfcrd\xfcr\xfclebilirlik Sertifikas\u0131",value:h.name,onChange:e=>m(d(d({},h),{},{name:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Belge T\xfcr\xfc ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("select",{value:h.document_type,onChange:e=>m(d(d({},h),{},{document_type:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0,children:["T\xfcrkiye S\xfcrd\xfcr\xfclebilir Turizm Program\u0131 Kriterleri (TR-I)","I. A\u015fama Belgesi","II. A\u015fama Belgesi","III. A\u015fama Belgesi","Karbon Ayak \u0130zi Raporu","S\xfcrd\xfcr\xfclebilirlik Raporu"].map((e=>(0,zi.jsx)("option",{value:e,children:e},e)))})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["A\u015fama ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("select",{value:h.stage,onChange:e=>m(d(d({},h),{},{stage:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0,children:["I.A\u015fama","II.A\u015fama","III.A\u015fama"].map((e=>(0,zi.jsx)("option",{value:e,children:e},e)))})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Dosya(lar) ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.jpg,.jpeg,.png",multiple:!0,onChange:e=>m(d(d({},h),{},{files:Array.from(e.target.files)})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Desteklenen formatlar: PDF, DOC, DOCX, XLS, XLSX, ZIP, RAR, JPG, PNG"}),(0,zi.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"\ud83d\udca1 Birden fazla dosya se\xe7ebilirsiniz (Ctrl+Click)"})]}),(0,zi.jsxs)("div",{className:"flex space-x-3",children:[(0,zi.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Y\xfckle"}),(0,zi.jsx)("button",{type:"button",onClick:()=>s(!1),className:"flex-1 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors",children:"\u0130ptal"})]})]})]})}),u&&f&&(0,zi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,zi.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-90vh overflow-y-auto",children:[(0,zi.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl",children:(0,zi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zi.jsxs)("div",{className:"flex items-center",children:[(0,zi.jsx)("span",{className:"text-3xl mr-3",children:w(f.file_path)}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h3",{className:"text-xl font-bold",children:"Belge Detaylar\u0131"}),(0,zi.jsx)("p",{className:"text-blue-100 text-sm",children:f.name})]})]}),(0,zi.jsx)("button",{onClick:()=>c(!1),className:"text-white hover:text-red-300 text-2xl font-bold w-8 h-8 flex items-center justify-center rounded-full hover:bg-white hover:bg-opacity-20 transition-all",children:"\xd7"})]})}),(0,zi.jsxs)("div",{className:"p-6 space-y-6",children:[(0,zi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zi.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Belge T\xfcr\xfc"}),(0,zi.jsx)("p",{className:"text-sm font-medium text-gray-900",children:f.document_type})]}),(0,zi.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Proje A\u015famas\u0131"}),(0,zi.jsx)("span",{className:"inline-block px-3 py-1 text-sm font-semibold rounded-full ".concat("I.A\u015fama"===f.stage?"bg-green-100 text-green-800":"II.A\u015fama"===f.stage?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"),children:f.stage})]})]}),(0,zi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zi.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-orange-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Dosya Boyutu"}),(0,zi.jsx)("p",{className:"text-lg font-bold text-gray-900",children:(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(f.file_size)})]}),(0,zi.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:"Y\xfcklenme Tarihi"}),(0,zi.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Date(f.created_at).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),"admin"===b&&(0,zi.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1",children:"\u0130lgili M\xfc\u015fteri"}),(0,zi.jsx)("p",{className:"text-sm font-medium text-blue-900",children:j(f.client_id)})]}),(0,zi.jsxs)("div",{className:"bg-gray-100 p-4 rounded-lg",children:[(0,zi.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:"Dosya Bilgileri"}),(0,zi.jsxs)("div",{className:"space-y-2",children:[(0,zi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zi.jsx)("span",{className:"text-sm text-gray-600",children:"Dosya Ad\u0131:"}),(0,zi.jsx)("span",{className:"text-sm font-medium text-gray-900 bg-white px-2 py-1 rounded",children:f.file_path.split("/").pop()})]}),(0,zi.jsxs)("div",{className:"flex justify-between items-center",children:[(0,zi.jsx)("span",{className:"text-sm text-gray-600",children:"Klas\xf6r:"}),(0,zi.jsxs)("span",{className:"text-sm font-medium text-gray-900 bg-white px-2 py-1 rounded",children:["\ud83d\udcc1 ",f.stage]})]})]})]}),(0,zi.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:(0,zi.jsxs)("div",{className:"flex items-start",children:[(0,zi.jsx)("div",{className:"flex-shrink-0",children:(0,zi.jsx)("span",{className:"text-2xl",children:"\ud83d\udccb"})}),(0,zi.jsxs)("div",{className:"ml-3",children:[(0,zi.jsx)("h4",{className:"text-sm font-semibold text-yellow-800 mb-1",children:"Belge Durumu"}),(0,zi.jsxs)("p",{className:"text-sm text-yellow-700",children:["Belge ba\u015far\u0131yla sisteme kaydedilmi\u015ftir. Ger\xe7ek dosya g\xf6r\xfcnt\xfcleme \xf6zelli\u011fi",(0,zi.jsx)("strong",{children:" Google Cloud Storage"})," entegrasyonu ile birlikte aktif hale gelecektir."]})]})]})})]}),(0,zi.jsxs)("div",{className:"bg-gray-50 px-6 py-4 rounded-b-xl flex justify-between items-center",children:[(0,zi.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,zi.jsx)("span",{className:"mr-2",children:"\ud83d\udcc5"}),"Son g\xfcncelleme: ",new Date(f.created_at).toLocaleDateString("tr-TR")]}),(0,zi.jsxs)("div",{className:"flex space-x-3",children:["admin"===b&&(0,zi.jsx)("button",{onClick:()=>{window.confirm("Bu belgeyi kal\u0131c\u0131 olarak silmek istedi\u011finizden emin misiniz?")&&(x(f.id),c(!1))},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-all transform hover:scale-105 shadow-md",children:"\ud83d\uddd1\ufe0f Belgeyi Sil"}),(0,zi.jsx)("button",{onClick:()=>c(!1),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition-all transform hover:scale-105 shadow-md",children:"\u2715 Kapat"})]})]})]})})]})},Di=e=>{let{client:t,onNavigate:n}=e;const[r,a]=(0,l.useState)([]),[i,o]=(0,l.useState)([]),[s,u]=(0,l.useState)(!1),[c,f]=(0,l.useState)(!1),[p,h]=(0,l.useState)({title:"",description:"",training_date:"",participants:""}),[m,g]=(0,l.useState)({report_file:null,total_emissions:"",calculation_date:"",notes:""}),[b,y]=(0,l.useState)(null),[v,k]=(0,l.useState)(!1),{authToken:x,userRole:w}=Ri();(0,l.useEffect)((()=>{t&&x&&(S(),j())}),[t,x]);const S=async()=>{try{const e=await At.get("".concat(Ai,"/trainings/").concat(t.id),{headers:{Authorization:"Bearer ".concat(x)}});a(e.data)}catch(e){console.error("Error fetching trainings:",e)}},j=async()=>{try{const e=await At.get("".concat(Ai,"/documents/").concat(t.id),{headers:{Authorization:"Bearer ".concat(x)}});o(e.data)}catch(e){console.error("Error fetching documents:",e)}},_=e=>{y(e),k(!0)},N=e=>{switch(e.split(".").pop().toLowerCase()){case"pdf":return"\ud83d\udcc4";case"doc":case"docx":return"\ud83d\udcdd";case"xls":case"xlsx":return"\ud83d\udcca";case"jpg":case"jpeg":case"png":return"\ud83d\uddbc\ufe0f";case"zip":case"rar":return"\ud83d\udce6";default:return"\ud83d\udccb"}};return t?(0,zi.jsxs)("div",{className:"space-y-6",children:[(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,zi.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,zi.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["Proje Y\xf6netimi - ",t.hotel_name]}),(0,zi.jsx)("button",{onClick:()=>n("admin"===w?"clients":"dashboard"),className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Geri D\xf6n"})]}),(0,zi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,zi.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,zi.jsx)("h3",{className:"font-semibold text-blue-800",children:"M\xfc\u015fteri Bilgileri"}),(0,zi.jsxs)("p",{children:[(0,zi.jsx)("strong",{children:"Firma:"})," ",t.name]}),(0,zi.jsxs)("p",{children:[(0,zi.jsx)("strong",{children:"Otel:"})," ",t.hotel_name]}),(0,zi.jsxs)("p",{children:[(0,zi.jsx)("strong",{children:"\u0130leti\u015fim:"})," ",t.contact_person]}),(0,zi.jsxs)("p",{children:[(0,zi.jsx)("strong",{children:"A\u015fama:"})," ",t.current_stage]})]}),(0,zi.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,zi.jsx)("h3",{className:"font-semibold text-green-800",children:"Karbon Ayak \u0130zi"}),(0,zi.jsx)("p",{className:"text-2xl font-bold text-green-600",children:t.carbon_footprint?"".concat(t.carbon_footprint.toFixed(2)," kg CO2"):"Rapor Y\xfcklenmedi"}),"admin"===w&&(0,zi.jsx)("button",{onClick:()=>f(!0),className:"mt-2 bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"Rapor Y\xfckle"}),"client"===w&&t.carbon_footprint&&(0,zi.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"\ud83d\udcca Karbon ayak izi hesaplamas\u0131 tamamland\u0131"}),"client"===w&&!t.carbon_footprint&&(0,zi.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"\u23f3 Karbon ayak izi analizi devam ediyor"})]}),(0,zi.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,zi.jsx)("h3",{className:"font-semibold text-purple-800",children:"Belgeler"}),(0,zi.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:i.length}),(0,zi.jsx)("p",{className:"text-sm text-purple-600",children:"Y\xfcklenen belge"})]})]}),(0,zi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zi.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,zi.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"Hizmet Durumu"}),(0,zi.jsx)("div",{className:"space-y-2",children:["Mevcut durum analizi","\xc7al\u0131\u015fma ekibinin belirlenmesi","Proje plan\u0131n\u0131n olu\u015fturulmas\u0131","Risk de\u011ferlendirmesi","E\u011fitim-Bilin\xe7lendirme faaliyetleri","\u0130zleme, Denetim Kay\u0131tlar\u0131n\u0131n Olu\u015fturulmas\u0131 ve \u0130yile\u015ftirme faaliyetleri","Belgelendirme denetimi"].map(((e,n)=>{var r,a;return(0,zi.jsxs)("div",{className:"flex items-center",children:[(0,zi.jsx)("input",{type:"checkbox",checked:(null===(r=t.services_completed)||void 0===r?void 0:r.includes(e))||!1,readOnly:!0,className:"mr-2"}),(0,zi.jsx)("span",{className:"text-sm ".concat(null!==(a=t.services_completed)&&void 0!==a&&a.includes(e)?"text-green-600 font-semibold":"text-gray-600"),children:e})]},n)}))})]}),(0,zi.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,zi.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,zi.jsx)("h3",{className:"font-semibold text-gray-800",children:"E\u011fitimler"}),"admin"===w&&(0,zi.jsx)("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Yeni E\u011fitim"})]}),(0,zi.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map((e=>(0,zi.jsx)("div",{className:"border-l-4 border-blue-400 pl-3 py-2 bg-white rounded",children:(0,zi.jsxs)("div",{className:"flex justify-between items-start",children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h4",{className:"font-semibold text-sm",children:e.title}),(0,zi.jsx)("p",{className:"text-xs text-gray-600",children:e.description}),(0,zi.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.training_date).toLocaleDateString("tr-TR")," - ",e.participants," ki\u015fi"]})]}),"admin"===w&&(0,zi.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{await At.put("".concat(Ai,"/trainings/").concat(e,"?status=").concat(t),{},{headers:{Authorization:"Bearer ".concat(x)}}),S()}catch(n){console.error("Error updating training status:",n)}})(e.id,t.target.value),className:"text-xs border rounded px-1 py-1",children:[(0,zi.jsx)("option",{value:"Planned",children:"Planland\u0131"}),(0,zi.jsx)("option",{value:"Completed",children:"Tamamland\u0131"}),(0,zi.jsx)("option",{value:"Cancelled",children:"\u0130ptal"})]})]})},e.id)))})]})]}),(0,zi.jsxs)("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[(0,zi.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"admin"===w?"Belgeler":"Belgelerim"}),"client"===w&&(0,zi.jsxs)("div",{className:"mb-4",children:[(0,zi.jsx)("h4",{className:"font-medium text-gray-700 mb-2 flex items-center",children:"\ud83c\udf31 Karbon Ayak \u0130zi Raporlar\u0131m"}),(0,zi.jsx)("div",{className:"bg-white p-3 rounded border",children:t.carbon_footprint?(0,zi.jsxs)("div",{className:"flex items-center justify-between",children:[(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("p",{className:"font-semibold text-green-800",children:["Karbon Ayak \u0130zi: ",t.carbon_footprint.toFixed(2)," kg CO2"]}),(0,zi.jsx)("p",{className:"text-sm text-gray-600",children:"\ud83d\udcc4 Detayl\u0131 rapor y\xfcklenmi\u015ftir"})]}),(0,zi.jsx)("button",{onClick:()=>{const e=i.find((e=>"Karbon Ayak \u0130zi Raporu"===e.document_type));e?_(e):alert("Karbon ayak izi raporu hen\xfcz y\xfcklenmemi\u015f.")},className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"\ud83d\udcca Raporu G\xf6r\xfcnt\xfcle"})]}):(0,zi.jsx)("div",{className:"text-center py-4",children:(0,zi.jsx)("span",{className:"text-gray-500",children:"\u23f3 Karbon ayak izi analizi hen\xfcz tamamlanmad\u0131"})})})]}),(0,zi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.map((e=>(0,zi.jsx)("div",{className:"bg-white p-3 rounded border hover:shadow-md transition-shadow",children:(0,zi.jsxs)("div",{className:"flex items-start justify-between",children:[(0,zi.jsxs)("div",{className:"flex-1",children:[(0,zi.jsxs)("div",{className:"flex items-center mb-2",children:[(0,zi.jsx)("span",{className:"text-lg mr-2",children:N(e.file_path)}),(0,zi.jsx)("h4",{className:"font-semibold text-sm text-gray-800 truncate",children:e.name})]}),(0,zi.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:e.document_type}),(0,zi.jsx)("p",{className:"text-xs text-gray-500",children:e.stage}),(0,zi.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString("tr-TR")})]}),(0,zi.jsx)("button",{onClick:()=>_(e),className:"text-blue-600 hover:text-blue-900 text-sm ml-2",children:"\ud83d\udccb"})]})},e.id))),0===i.length&&(0,zi.jsx)("div",{className:"col-span-full text-center py-8 text-gray-500",children:"admin"===w?"Hen\xfcz belge y\xfcklenmemi\u015f.":"Hen\xfcz size ait belge bulunmuyor."})]})]})]}),c&&"admin"===w&&(0,zi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[(0,zi.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Karbon Ayak \u0130zi Raporu Y\xfckleme"}),(0,zi.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={client_id:t.id,name:"Karbon Ayak \u0130zi Raporu",document_type:"Karbon Ayak \u0130zi Raporu",stage:t.current_stage,file_path:"/reports/carbon_".concat(t.id,"_").concat(Date.now(),".pdf"),file_size:m.report_file?m.report_file.size:0};await At.post("".concat(Ai,"/documents"),e,{headers:{Authorization:"Bearer ".concat(x)}}),m.total_emissions&&await At.put("".concat(Ai,"/clients/").concat(t.id),{carbon_footprint:parseFloat(m.total_emissions)},{headers:{Authorization:"Bearer ".concat(x)}}),f(!1),g({report_file:null,total_emissions:"",calculation_date:"",notes:""}),j(),alert("Karbon ayak izi raporu ba\u015far\u0131yla y\xfcklendi!")}catch(n){console.error("Error uploading carbon report:",n),alert("Rapor y\xfcklenirken hata olu\u015ftu!")}},className:"space-y-4",children:[(0,zi.jsx)("input",{type:"file",accept:".pdf,.doc,.docx",onChange:e=>g(d(d({},m),{},{report_file:e.target.files[0]})),className:"w-full p-3 border border-gray-300 rounded-md"}),(0,zi.jsx)("input",{type:"number",step:"0.01",placeholder:"Toplam Emisyon (kg CO2)",value:m.total_emissions,onChange:e=>g(d(d({},m),{},{total_emissions:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("input",{type:"date",value:m.calculation_date,onChange:e=>g(d(d({},m),{},{calculation_date:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("textarea",{placeholder:"Notlar",value:m.notes,onChange:e=>g(d(d({},m),{},{notes:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",rows:"3"}),(0,zi.jsxs)("div",{className:"flex space-x-3",children:[(0,zi.jsx)("button",{type:"submit",className:"flex-1 bg-green-600 text-white py-2 rounded-md hover:bg-green-700 transition-colors",children:"Y\xfckle"}),(0,zi.jsx)("button",{type:"button",onClick:()=>f(!1),className:"flex-1 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors",children:"\u0130ptal"})]})]})]})}),s&&"admin"===w&&(0,zi.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[(0,zi.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Yeni E\u011fitim Ekle"}),(0,zi.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={client_id:t.id,title:p.title,description:p.description,training_date:new Date(p.training_date).toISOString(),participants:parseInt(p.participants)};await At.post("".concat(Ai,"/trainings"),e,{headers:{Authorization:"Bearer ".concat(x)}}),S(),u(!1),h({title:"",description:"",training_date:"",participants:""})}catch(n){console.error("Error creating training:",n)}},className:"space-y-4",children:[(0,zi.jsx)("input",{type:"text",placeholder:"E\u011fitim Ba\u015fl\u0131\u011f\u0131",value:p.title,onChange:e=>h(d(d({},p),{},{title:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("textarea",{placeholder:"E\u011fitim A\xe7\u0131klamas\u0131",value:p.description,onChange:e=>h(d(d({},p),{},{description:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",rows:"3",required:!0}),(0,zi.jsx)("input",{type:"datetime-local",value:p.training_date,onChange:e=>h(d(d({},p),{},{training_date:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsx)("input",{type:"number",placeholder:"Kat\u0131l\u0131mc\u0131 Say\u0131s\u0131",value:p.participants,onChange:e=>h(d(d({},p),{},{participants:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md",required:!0}),(0,zi.jsxs)("div",{className:"flex space-x-3",children:[(0,zi.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Kaydet"}),(0,zi.jsx)("button",{type:"button",onClick:()=>u(!1),className:"flex-1 bg-gray-500 text-white py-2 rounded-md hover:bg-gray-600 transition-colors",children:"\u0130ptal"})]})]})]})})]}):(0,zi.jsxs)("div",{className:"text-center py-8",children:[(0,zi.jsx)("p",{className:"text-gray-600",children:"L\xfctfen bir m\xfc\u015fteri se\xe7in."}),(0,zi.jsx)("button",{onClick:()=>n("clients"),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"M\xfc\u015fteri Listesine D\xf6n"})]})},Fi=e=>{var t;let{onComplete:n,onSkip:r}=e;const[a,i]=(0,l.useState)({name:"",hotel_name:"",contact_person:"",email:"",phone:"",address:""}),[o,s]=(0,l.useState)(!1),{user:u,authToken:c,refreshUser:f}=Ri();return(0,zi.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:(0,zi.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6",children:[(0,zi.jsxs)("div",{className:"text-center mb-6",children:[(0,zi.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\ud83c\udfe8 Otel Bilgilerinizi Tamamlay\u0131n"}),(0,zi.jsx)("p",{className:"text-gray-600 mt-2",children:"S\xfcrd\xfcr\xfclebilir turizm yolculu\u011funuza ba\u015flamak i\xe7in otel bilgilerinizi girin."})]}),(0,zi.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0);try{var t;const e=await At.post("".concat(Ai,"/clients"),d(d({},a),{},{email:(null===(t=u.primaryEmailAddress)||void 0===t?void 0:t.emailAddress)||a.email}),{headers:{Authorization:"Bearer ".concat(c)}});await At.put("".concat(Ai,"/auth/me"),{client_id:e.data.id},{headers:{Authorization:"Bearer ".concat(c)}}),await f(),alert("Otel bilgileriniz ba\u015far\u0131yla kaydedildi! Sistemi kullanmaya ba\u015flayabilirsiniz."),n()}catch(i){var r,l;console.error("Client setup error:",i),alert("Hata olu\u015ftu: "+((null===(r=i.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.detail)||"Bilinmeyen hata"))}finally{s(!1)}},className:"space-y-4",children:[(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Firma Ad\u0131 ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("input",{type:"text",placeholder:"\xd6rn: Antalya Turizm A.\u015e.",value:a.name,onChange:e=>i(d(d({},a),{},{name:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Otel/Tesis Ad\u0131 ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("input",{type:"text",placeholder:"\xd6rn: Grand Resort & Spa",value:a.hotel_name,onChange:e=>i(d(d({},a),{},{hotel_name:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u0130leti\u015fim Ki\u015fisi ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("input",{type:"text",placeholder:"\xd6rn: Ahmet Y\u0131lmaz",value:a.contact_person,onChange:e=>i(d(d({},a),{},{contact_person:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["E-posta ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("input",{type:"email",placeholder:"\xd6rn: info@grandresort.com",value:a.email||(null===u||void 0===u||null===(t=u.primaryEmailAddress)||void 0===t?void 0:t.emailAddress)||"",onChange:e=>i(d(d({},a),{},{email:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Telefon ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("input",{type:"tel",placeholder:"\xd6rn: +90 242 123 4567",value:a.phone,onChange:e=>i(d(d({},a),{},{phone:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Adres ",(0,zi.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,zi.jsx)("textarea",{placeholder:"Tam adresinizi girin...",value:a.address,onChange:e=>i(d(d({},a),{},{address:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",required:!0})]}),(0,zi.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?(0,zi.jsxs)("div",{className:"flex items-center justify-center",children:[(0,zi.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Kaydediliyor..."]}):"Otel Bilgilerini Kaydet"}),(0,zi.jsx)("button",{type:"button",onClick:r,className:"w-full bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors mt-2",children:"\u015eimdilik Atla (Sonra Tamamlayabilirim)"})]}),(0,zi.jsx)("div",{className:"mt-6 text-center",children:(0,zi.jsx)("p",{className:"text-xs text-gray-500",children:"Bu bilgiler s\xfcrd\xfcr\xfclebilirlik dan\u0131\u015fmanl\u0131\u011f\u0131 s\xfcrecinde kullan\u0131lacakt\u0131r."})})]})})},Bi=e=>{let{activeTab:t,onNavigate:n,userRole:r}=e;const a="admin"===r?[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"clients",name:"M\xfc\u015fteri Y\xf6netimi",icon:"\ud83c\udfe8"},{id:"documents",name:"Belge Y\xf6netimi",icon:"\ud83d\udccb"},{id:"reports",name:"Raporlar",icon:"\ud83d\udcc8"}]:[{id:"dashboard",name:"Dashboard",icon:"\ud83d\udcca"},{id:"documents",name:"Belgelerim",icon:"\ud83d\udccb"},{id:"trainings",name:"E\u011fitimlerim",icon:"\ud83c\udf93"}];return(0,zi.jsxs)("div",{className:"bg-gray-800 text-white w-64 min-h-screen p-4",children:[(0,zi.jsxs)("div",{className:"mb-8",children:[(0,zi.jsx)("h1",{className:"text-xl font-bold",children:"\ud83c\udf3f S\xfcrd\xfcr\xfclebilir Turizm CRM"}),(0,zi.jsx)("p",{className:"text-sm text-gray-300",children:"admin"===r?"Admin Paneli":"M\xfc\u015fteri Paneli"})]}),(0,zi.jsx)("nav",{className:"space-y-2",children:a.map((e=>(0,zi.jsxs)("button",{onClick:()=>n(e.id),className:"w-full text-left px-4 py-3 rounded-lg transition-colors ".concat(t===e.id?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:[(0,zi.jsx)("span",{className:"mr-3",children:e.icon}),e.name]},e.id)))})]})},Wi=()=>{const[e,t]=(0,l.useState)("dashboard"),[n,r]=(0,l.useState)(null),[a,i]=(0,l.useState)(!1),{userRole:o,isLoaded:s,dbUser:u,refreshUser:c}=Ri();(0,l.useEffect)((()=>{if(s&&"client"===o){const e=localStorage.getItem("client_setup_".concat(o,"_completed"));e||null!==u&&void 0!==u&&u.client_id&&""!==(null===u||void 0===u?void 0:u.client_id)?(i(!1),!e||null!==u&&void 0!==u&&u.client_id||c()):i(!0)}}),[s,o,u,c]);const d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t(e),r(n)},f=async()=>{try{localStorage.setItem("client_setup_".concat(o,"_completed"),"true"),await c(),i(!1),console.log("\u2705 Client setup completed and marked as done")}catch(e){console.error("Setup completion error:",e)}},p=()=>{localStorage.setItem("client_setup_".concat(o,"_completed"),"true"),i(!1)};if(!s)return(0,zi.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,zi.jsxs)("div",{className:"text-center",children:[(0,zi.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,zi.jsx)("p",{className:"mt-4 text-gray-600",children:"Y\xfckleniyor..."})]})});if(a&&"client"===o)return(0,zi.jsx)(Fi,{onComplete:f,onSkip:p});return(0,zi.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zi.jsx)(Li,{}),(0,zi.jsxs)("div",{className:"flex",children:[(0,zi.jsx)(Bi,{activeTab:e,onNavigate:d,userRole:o}),(0,zi.jsx)("div",{className:"flex-1 p-6",children:(()=>{switch(e){case"dashboard":default:return(0,zi.jsx)(Ui,{onNavigate:d});case"clients":return(0,zi.jsx)(Ii,{onNavigate:d});case"project":return(0,zi.jsx)(Di,{client:n,onNavigate:d});case"documents":return(0,zi.jsx)(Mi,{});case"reports":return(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,zi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Raporlar"}),(0,zi.jsx)("p",{className:"text-gray-600",children:"Yak\u0131nda eklenecek..."})]});case"trainings":return(0,zi.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,zi.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"E\u011fitimlerim"}),(0,zi.jsx)("p",{className:"text-gray-600",children:"Yak\u0131nda eklenecek..."})]})}})()})]})]})};const Vi=function(){return(0,zi.jsxs)(Oi,{publishableKey:Ti,children:[(0,zi.jsx)(_a,{children:(0,zi.jsx)(Wi,{})}),(0,zi.jsx)(Na,{children:(0,zi.jsx)(Ea,{})})]})};i.createRoot(document.getElementById("root")).render((0,zi.jsx)(l.StrictMode,{children:(0,zi.jsx)(Vi,{})}))})();
//# sourceMappingURL=main.8bb5289f.js.map